<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Sgfxapi by realazthat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Sgfxapi</h1>
      <h2 class="project-tagline">Implementation of clb&#39;s gfxapi, heavily modified.</h2>
      <a href="https://github.com/realazthat/sgfxapi" class="btn">View on GitHub</a>
      <a href="https://github.com/realazthat/sgfxapi/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/realazthat/sgfxapi/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="sgfxapi-httprealazthatgithubiosgfxapi" class="anchor" href="#sgfxapi-httprealazthatgithubiosgfxapi" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>sgfxapi (<a href="http://realazthat.github.io/sgfxapi/">http://realazthat.github.io/sgfxapi/</a>)</h2>

<p>Simple wrapper around opengl 4, based off of <a href="http://clb.demon.fi">clb</a>'s <a href="http://clb.demon.fi/gfxapi/">gfxapi docs</a>.</p>

<p>The wrapper can help users understand the requirements of OpenGL4 API and to learn the OpenGL4 API.</p>

<table>
<thead>
<tr>
<th>Branch</th>
<th>docs</th>
</tr>
</thead>
<tbody>
<tr>
<td>master</td>
<td><a href="http://realazthat.github.io/sgfxapi/master/sphinx-docs/html/">docs</a></td>
</tr>
<tr>
<td>develop</td>
<td><a href="http://realazthat.github.io/sgfxapi/develop/sphinx-docs/html/">docs</a></td>
</tr>
</tbody>
</table>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Libraries have their own license.</p>

<p>Some specific files might have their own license included in them; in this case those files fall under
that license. Some directories might have their own license; in that case those directories will have
a README, LICENSE, COPYING or similar file related to licensing.</p>

<p>As for the rest of the project, code written by me in this project is released under the
<a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dependencies</h2>

<p>Build system:</p>

<ul>
<li>CMake &gt;= 3.1 (if using CMake)</li>
<li>doxygen for documentation generation</li>
<li>sphinx (python) for documentation generation</li>
<li>breathe (python) for documentation generation</li>
</ul>

<p>Libraries:</p>

<ul>
<li>
<a href="http://clb.demon.fi/MathGeoLib/nightly/">MathGeoLib</a>, tested with master from 2015/08/26.</li>
<li>
<a href="http://www.glfw.org/docs/latest/">glfw3</a>, tested with glfw-3.1.1.bin.WIN64 binary distribution.</li>
<li>
<a href="http://glew.sourceforge.net/">glew</a>,
tested with 1.12.0-3, from the <code>msys2/mingw-w64 64-bit</code> environment installed via pacman.</li>
<li>
<code>glut</code>, or <code>freeglut</code>, tested with <code>freeglut</code>, from the <code>msys2/mingw-w64 64-bit</code> environment, installed via pacman.</li>
<li><code>glu</code></li>
<li>
<a href="https://github.com/realazthat/corner-cases">corner-cases/cubelib</a>

<ul>
<li>Useful library to reason about corners, edges, sides, of an imaginary cube</li>
</ul>
</li>
</ul>

<p>How to install some of these via msys2/mingw-w64:</p>

<pre><code>#search
pacman -Ss glut

#install
pacman -S mingw64/mingw-w64-x86_64-freeglut
</code></pre>

<h2>
<a id="project-partsbuild-targets" class="anchor" href="#project-partsbuild-targets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Project Parts/Build Targets</h2>

<ul>
<li>sgfxapi</li>
<li>sgfxapi-drawutils</li>
<li>sgfxdemo</li>
</ul>

<h2>
<a id="sgfxapi" class="anchor" href="#sgfxapi" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>sgfxapi</h2>

<p>The actual library.</p>

<h2>
<a id="sgfxapi-drawutils" class="anchor" href="#sgfxapi-drawutils" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>sgfxapi-drawutils</h2>

<p>A utility library for drawing some simple things, and some useful default shaders.</p>

<h2>
<a id="sgfxdemo" class="anchor" href="#sgfxdemo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>sgfxdemo</h2>

<p>A demo application that renders stuff.</p>

<h2>
<a id="building" class="anchor" href="#building" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Building</h2>

<p>Requires C++11.</p>

<p>Tested with <code>msys2/mingw-w64 64-bit shell</code> on Windows 7.</p>

<h5>
<a id="with-codelite" class="anchor" href="#with-codelite" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>With codelite:</h5>

<p>You can open the 3 projects, <code>sgfxapi.project</code>, <code>sgfxapi-drawutils.project</code>, and <code>sgfxdemo.project</code>.</p>

<p>You will have to go to each project's settings and set the correct include directories, and the correct linker directories.</p>

<p>Build them in that order.</p>

<p>Copy any dlls dependencies to the build directories to run. You will need to copy the ones for the lib dependencies
and also the ones that are part of the compiler runtime, if any.</p>

<pre><code>#these are for gcc, it would depend on the compiler and environment if you need to copy these over.
cp /path/to/compiler/libstdc++-6.dll .
cp /path/to/compiler/libgcc_s_seh-1.dll .
cp /path/to/compiler/libwinpthread-1.dll .
#and these are the library depndencies
cp /path/to/glew/glew32.dll .
cp /path/to/glfw/gflw3.dll .
#and so on
</code></pre>

<p>If you still get errors about missing dlls, or see a windows error of <code>0xc000007b</code> (whichmeans that one of the
dlls are not in the build directory, and instead it found installed on the system; but the one found is an
architecture mismatch (32-bit/64-bit) ) then you have to find what other runtime dlls your binary requires.
If using an msys-based compiler, you can use msys2's <code>ldd</code> (find via <code>pacman -Ss ldd</code> and install via something
like <code>pacman -S mingw64/mingw-w64-x86_64-ntldd-git</code>) from within msys2 to locate these dlls, or use
<a href="http://www.dependencywalker.com/">Dependency Walker</a> to locate them within the windows environment.</p>

<h5>
<a id="with-cmake-under-msys2mingw-w64" class="anchor" href="#with-cmake-under-msys2mingw-w64" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>With cmake under msys2/mingw-w64:</h5>

<p>Assuming you have a msys2 or linux-like environment, with a gcc-style compiler (clang would
likely also work this way):</p>

<pre><code>cd sgfxapi



#install dependencies, there are some bash scripts provided in the ./scripts/ directory
# that will download and build many of the dependencies and put them in the ./libs directory
# the scripts are meant for the continuous integration system, but you can run them yourself
# or read them for assistance.

#optionally install or download and build googletest (only matters if you are going to run the unittests)
#note, choose the appropriate generator
#see the bash scripts for for more details
CMAKE_GENERATOR="MSYS Makefiles" CMAKE_BUILD_TYPE="Debug" bash ./scripts/download-and-build-googletest.sh
#... etc. install dependencies


#make a build directory
mkdir -p build &amp;&amp; cd build


#note, choose the appropriate generator
cmake -G"MSYS Makefiles" .. -DCMAKE_BUILD_TYPE="Debug"

#if you built the dependencies and put them in the libs directory, then you are good to build

#if you installed the dependencies to the system, you are prolly good to build

#if you built the dependencies yourself outside the expected ./libs subdirectories, then you will need to
# define/override the paths to the projects (which by default point to the ./libs directory)
# for example, like so:
cmake -L # list all the user-definable variables
cmake . -DGLFW3_INCLUDE_DIR=/path/to/cppformat/include -DGLFW3_LIB=glfw3 -DGLFW3_LIB_DIR=/path/to/glfw/build/src
#on some systems, you must additionally link pthreads after gtest, so let's store pthread in GTEST_LIB
cmake . "-DGTEST_LIB=gtest;pthread"
# .. and so on for each dependency that is not in the ./libs directory and not installed in the system


#furthermore, if we are using freeglut via msys2, we need to specify the name of the
# glut library as `freeglut`
cmake . -DGLUT_LIB=freeglut

#alternatively, we can set these via the GUI
cmake-gui .

#set the various include and lib directories that are not installed in the system
#...
#press configure/generate in the cmake gui, and close the gui.


#to compile each target separately:
cmake --build . --target sgfxapi
cmake --build . --target sgfxapi-drawutils
cmake --build . --target sgfxdemo

#to compile them all at once:
cmake --build .

#copy over all the lib dlls that are not installed in the system
cp /path/to/glfw3-libs/glfw3.dll .
# ...etc.

#execute
./sgfxdemo

#if you want this to run outside of the msys2/mingw-w64 environment, then you must additionally copy
# over any dependant dlls that are part of the mingw environment.

#this displays all the dependencies.
ldd sgfxdemo

#copy over any of the results that are part of the environment
cp /mingw64/bin/libstdc++-6.dll .
cp /mingw64/bin/libgcc_s_seh-1.dll .
cp /mingw64/bin/libwinpthread-1.dll .
cp /mingw64/bin/glew32.dll .
#and so on
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/realazthat/sgfxapi">Sgfxapi</a> is maintained by <a href="https://github.com/realazthat">realazthat</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
